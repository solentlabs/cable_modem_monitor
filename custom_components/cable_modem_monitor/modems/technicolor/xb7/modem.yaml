# =============================================================================
# AUTO-GENERATED FILE - DO NOT EDIT DIRECTLY
#
# Source: modems/technicolor/xb7/modem.yaml
# This file is synced from modems/ during build. Edit the source file, then run:
#     make sync
# =============================================================================

# Technicolor XB7 Configuration
# Source: Diagnostics export from issue #2 (@esand)

manufacturer: Technicolor
model: XB7
paradigm: html

hardware:
  docsis_version: "3.1"
  chipset: Broadcom BCM3390
  release_date: "2020"

# Provenance tracking
sources:
  detection_hints: "[Issue #2](https://github.com/solentlabs/cable_modem_monitor/issues/2)"

default_host: "10.0.0.1"

auth:
  types:
    form:
      action: "/check.jst"
      method: POST
      username_field: username
      password_field: password
      password_encoding: plain
      hidden_fields: {}
      success:
        redirect: "/at_a_glance.jst"

  session:
    cookie_name: "session"

pages:
  public: []

  protected:
    - "/network_setup.jst"

  data:
    downstream_channels: "/network_setup.jst"
    upstream_channels: "/network_setup.jst"
    system_info: "/network_setup.jst"

parser:
  class: TechnicolorXB7Parser
  module: custom_components.cable_modem_monitor.modems.technicolor.xb7.parser
  format:
    type: html
    table_layout: transposed

detection:
  pre_auth:
    - "Technicolor"
    - "XB7"
    - "CGM4331COM"
    - "/check.jst"
    - "netWidth"
  post_auth:
    - "XB7"
    - "CGM4331COM"
    - "Channel Bonding Value"
    - "netWidth"
  page_hint: "/network_setup.jst"
  model_aliases:
    - "CGM4331COM"

capabilities:
  - scqam_downstream
  - scqam_upstream
  - system_uptime
  - last_boot_time
  - software_version

# =============================================================================
# STATUS
# =============================================================================
status_info:
  status: verified
  verification_source: "https://github.com/solentlabs/cable_modem_monitor/issues/2"

# =============================================================================
# METADATA
# =============================================================================
fixtures:
  path: modems/technicolor/xb7/fixtures
  source: diagnostics
  firmware_tested: "*"
  last_validated: "2026-01-05"

attribution:
  contributors:
    - github: esand
      contribution: "[Issue #2](https://github.com/solentlabs/cable_modem_monitor/issues/2) verification"

isps:
  - Rogers
  - Comcast
  - Xfinity

notes: |
  DOCSIS 3.1 cable modem + router gateway (CGM4331COM).
  Transposed table format: rows are metrics, columns are channels.
  Default IP: 10.0.0.1 (router mode) or 192.168.100.1 (modem mode).
  Form-based authentication to /check.jst endpoint.
  System uptime format: "X days Xh: Xm: Xs" (note spaces around colons).
  May have localized variants (Italian translations found in Rogers/Italian market).
